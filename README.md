# speech-bot

**speech-bot** is a personal project I'm developing for fun, where I try to replicate an "Amazon *Alexa*" using python.
In other words, it's a program that executes individual voice commands and responds using a text-to-speech voice.

It's just a small project I'm doing for learning and for fun, so don't expect anything too serious or refined here.

It does not have any GUI or anything. In order to use it, you simply leave it running on a terminal by executing ``py main.py``. 
You can safely kill it in the terminal by running ``cntrl+c`` when you want to stop execution.


## How it works
The basic loop of the program is as follows:

* Using the ``speech_recognition`` library, it listens for user speech through audio and converts the content into a text string format.
* With a stringified input, it detects for a "hotword" in the start of the command, like "Alexa" or "Jarvis", ignoring the input if the hotword is not found.
* If a hotword is detected, it tries to find a corresponding command to execute it.
* If a command is found, it executes the python code of that command and creates a text string response.
* It runs the response through google's ``gTTS`` library for text-to-speech responses.
    * It runs the audio files using ``pygame``.

It works both in english and portuguese, and can use any hotword that can be collected via speech recognition.

## Files / directories
Here I will try to explain the organization of my code. I'll list them in order of "importance" (subjective, really).

* ``main.py``: The file that you run. I tried keeping main as more of an 'orchestrator', only calling code that's abstracted into
other files.
* ``modules`` - Where I keep the "core" code. I don't really know what to call this folder, so I generically called it modules...
    * ``speech_recognizer.py``: Detection of voice through user microphone, capturing speech data into a text-friendly string format.
    * ``command_interpreter.py``: Reads string input, detects hotword and runs commands. Though the commands themselves can be
    defined externally, here is where all of them are called. If a command isn't listed here, it won't be called, ever.
    * ``speaker.py``: Creates and runs audio files using tts in order to respond to the user.
* ``tasks`` - Where I keep the code of complex commands. If it's something that can be done in one or two lines of code, I'll just
leave it in ``command_interpreter.py``, but when a command is even a bit large I'll define it here and only import/call it in 
``command_interpreter.py``.
* ``utils`` - Code tools. Basically, if I want a function that isn't a command, but used by commands or by the code in general,
I'll put it here.
* ``configs`` - Basic settings of the bot, like the default hotword and language used when running it.
* ``audio`` - Directory used for the temporary .mp3 files generated by ``gTTS`` in ``speaker.py``.

## Features / commands

The bot can have simple response commands, like "what time is it?" or "say hello!", but can also do virtually anything python code 
can run. It is modularized in a scalable way, where from the moment a command is recognized, it can correlate to any python code 
you want. Basically, if it can't do something, you probably can just add the functionality yourself.

### Developed commands:
Here are the things already implemented:

* **hello**: Hello world!
* **say [input]**: Repeats what the user says.
* **change language to [language]**: Currently only works between english and portuguese.
* **what time is it**: Says the current hour, minute and second.
* **what day is it**: Says the current weekday, day, month and year.
* **shut down**: Stops execution altogether.


### Future plans
Here are things I plan to integrate into commands eventually.

* ``selenium`` or ``playwright``: Automatization of web-related tasks.
    * Open websites, webscraping, input data...
* ``pyautogui`` and ``os``: Automatization of desktop-related tasks.
    * Open programs, change system volume, enter sleep mode, lock screen...
* ``requests``: Automatization tasks through the use of APIs.
    * Send messages, activate power automate flows...
* ``cronjobs``: Scheduling tasks.
    * Alarms, reminders...

And anything else I feel like making!